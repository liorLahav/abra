"use strict";(self.webpackChunkabra=self.webpackChunkabra||[]).push([[621],{829:function(e,t,a){a.d(t,{Z:function(){return i}});a(791);var n="card_Card__NwL4j",r=a(184),i=function(e){return(0,r.jsx)("div",{onClick:e.onClick,className:"".concat(n," ").concat(e.class),children:e.children})}},621:function(e,t,a){a.r(t),a.d(t,{default:function(){return w}});var n=a(829),r=a(152),i={currentweather:"currentweather_currentweather__PUym6",temperature:"currentweather_temperature__H45yS"},c=a(791),u=a(30),s="favoritesButton_favButton__kjXOh",o=a(184),l=function(e){var t=(0,u.I0)(),a=(0,u.v9)((function(t){return t.favorites[e.id]}));return(0,o.jsx)("div",{style:{backgroundColor:a?"rgb(217, 217, 42)":"rgb(201, 201, 201)"},onClick:function(){t(a?{type:"removeFavorite",payload:{id:e.id}}:{type:"addFavorite",payload:{id:e.id,city:e.city}})},className:s})},d=a(331),h=function(e){var t=(0,u.I0)(),a=(0,c.useState)({}),n=(0,r.Z)(a,2),s=n[0],h=n[1],m=(0,u.v9)((function(e){return e.location})),f=(0,u.v9)((function(e){return e.currentWheather[m.key]}));return(0,c.useEffect)((function(){void 0!==f?h(f):void 0!==m.key&&fetch("https://dataservice.accuweather.com/currentconditions/v1/".concat(m.key,"?apikey=vHiCdzBf9ay1yTDR04546BFGIZDDIq4s")).then((function(e){return e.json()})).then((function(e){var a=e[0].WeatherIcon;a<10&&(a="0"+a);var n={temperature:e[0].Temperature.Metric.Value,WeatherText:e[0].WeatherText,icon:a,city:m.city,key:m.key};h(n),t({type:"AddCurrentWheather",payload:{key:m.key,data:n}})})).catch((function(e){t({type:"alert"})}))}),[m]),(0,o.jsxs)("div",{className:i.currentweather,children:[(0,o.jsx)(l,{id:m.key,city:m.city}),(0,o.jsx)("div",{className:i.NextWeek}),(0,o.jsx)("h1",{children:s.city}),(0,o.jsxs)("div",{className:i.temperature,children:[s.temperature,"\u2103"]}),(0,o.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(s.icon,"-s.png"),loading:"lazy",alt:"icon"}),(0,o.jsx)("h2",{children:s.WeatherText}),void 0===s&&(0,o.jsx)(d.Z,{})]})},m="tempDispaly_tempDisplay__tq+uJ",f=function(e){return(0,o.jsxs)("div",{className:m,children:[(0,o.jsx)("h5",{children:e.headline}),(0,o.jsxs)("p",{children:[e.temperature,"\u2103"]})]})},p="nextWeekWeather_nextWeekWeather__AHJdV",v="nextWeekWeather_nextWeekCard__WiiQG",y="nextWeekWeather_tempContainer__MfvUG",x=function(e){var t=(0,u.I0)(),a=(0,c.useState)([]),i=(0,r.Z)(a,2),s=i[0],l=i[1],h=(0,u.v9)((function(e){return e.location})),m=(0,u.v9)((function(e){return e.futureWheather[h.key]}));return(0,c.useEffect)((function(){void 0!==m?l(m):void 0!==h.key&&fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+h.key+"?apikey=vHiCdzBf9ay1yTDR04546BFGIZDDIq4s&metric=true").then((function(e){return e.json()})).then((function(e){var a=[],n={weekday:"long",year:"numeric",month:"long",day:"numeric"};e.DailyForecasts.forEach((function(e){var t=e.Day.Icon;t<10&&(t="0"+t),a.push({day:new Date(e.Date).toLocaleDateString("en-US",n),min:e.Temperature.Minimum.Value,max:e.Temperature.Maximum.Value,src:t})})),l(a),t({type:"AddFutureWheather",payload:{key:h.key,data:a}})})).catch((function(e){t({type:"alert"})}))}),[h]),(0,o.jsxs)("div",{className:p,children:[s.map((function(e,t){return(0,o.jsxs)(n.Z,{class:v,children:[(0,o.jsx)("h2",{children:e.day}),(0,o.jsx)("h3",{children:"temperature:"}),(0,o.jsxs)("div",{className:y,children:[(0,o.jsx)(f,{headline:"minimum",temperature:e.min}),(0,o.jsx)("img",{src:"https://developer.accuweather.com/sites/default/files/".concat(e.src,"-s.png"),loading:"lazy"}),(0,o.jsx)(f,{headline:"maximum",temperature:e.max})]})]},t)})),void 0===s&&(0,o.jsx)(d.Z,{})]})},j="dropDown_dropDown__Zx6BJ",_=function(e){var t=(0,c.useState)([]),a=(0,r.Z)(t,2),n=a[0],i=a[1];(0,c.useEffect)((function(){""!==e.inputVal&&e.inputVal.length>1&&fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=vHiCdzBf9ay1yTDR04546BFGIZDDIq4s&q=".concat(e.inputVal)).then((function(e){return e.json()})).then((function(e){var t=[];e.forEach((function(e){t.push({location:e.LocalizedName,key:e.Key})})),i(t)}))}),[e.inputVal]);var u=function(t){i([]),e.autoComplete(n[t.currentTarget.id])};return(0,o.jsx)("div",{style:{display:""!==e.inputVal&&0!==n.length?"inline-block":"none"},className:j,children:n.map((function(e,t){return(0,o.jsx)("div",{id:t,onClick:u,children:e.location},t)}))})},k="SerchBar_searchContainer__NJQvC",g="SerchBar_searchError__3NKWk",C="SerchBar_Search__p5rIi",W=function(e){var t,a=(0,u.I0)(),n=(0,c.useState)(""),i=(0,r.Z)(n,2),s=i[0],l=i[1],d=(0,c.useState)(null),h=(0,r.Z)(d,2),m=h[0],f=h[1];return(0,o.jsxs)("div",{className:k,children:[(0,o.jsxs)("form",{onSubmit:function(e,n){e.preventDefault(),void 0!==t&&(l(""),a({type:"changeLocation",payload:t}))},className:C,children:[(0,o.jsx)("button",{type:"submit"}),(0,o.jsx)("input",{className:m?g:null,onChange:function(e){var t=e.target.value;if(0===t.length)f(null);else for(var a=0;a<t.length;a++){var n=t.charCodeAt(a);if(!(96<n&&n<122||65<n&&n<90)){f(!0);break}a===t.length-1&&f(!1)}e.target.value.slice(),l(e.target.value)},placeholder:"Search here",value:s,type:"text"})]}),m&&(0,o.jsx)("p",{children:"invalid input only english letter are allowed"}),(0,o.jsx)(_,{inputVal:s,autoComplete:function(e){l(e.location),t=e}})]})},D={mainCard:"main_mainCard__mhHhm"},w=function(e){return(0,o.jsxs)("main",{className:D.mainPage,children:[(0,o.jsx)(W,{}),(0,o.jsxs)(n.Z,{class:D.mainCard,children:[(0,o.jsx)(x,{}),(0,o.jsx)(h,{})]})]})}}}]);
//# sourceMappingURL=621.6d327f1d.chunk.js.map
{"ast":null,"code":"import _slicedToArray from\"D:/abra/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Card from\"../../UI/Card/card\";import TempDisplay from\"./tempDisplay/tempDispaly\";import Classes from\"./nextWeekWeather.module.css\";import{useDispatch,useSelector}from\"react-redux\";import{useEffect,useState}from\"react\";import Loading from\"../../UI/loading/loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NextWeekWeather=function NextWeekWeather(props){var dispach=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var location=useSelector(function(state){return state.location;});var storedData=useSelector(function(state){return state.futureWheather[location.key];});useEffect(function(){if(storedData!==undefined){setData(storedData);}else if(location.key!==undefined){fetch(\"https://dataservice.accuweather.com/forecasts/v1/daily/5day/\"+location.key+\"?apikey=vHiCdzBf9ay1yTDR04546BFGIZDDIq4s&metric=true\").then(function(res){return res.json();}).then(function(res){var future=[];var options={weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\"};res.DailyForecasts.forEach(function(day){var icon=day.Day.Icon;if(icon<10){icon=\"0\"+icon;}future.push({day:new Date(day.Date).toLocaleDateString(\"en-US\",options),min:day.Temperature.Minimum.Value,max:day.Temperature.Maximum.Value,src:icon});});setData(future);dispach({type:\"AddFutureWheather\",payload:{key:location.key,data:future}});}).catch(function(err){dispach({type:\"alert\"});});}},[location]);return/*#__PURE__*/_jsxs(\"div\",{className:Classes.nextWeekWeather,children:[data.map(function(forcast,index){return/*#__PURE__*/_jsxs(Card,{class:Classes.nextWeekCard,children:[/*#__PURE__*/_jsx(\"h2\",{children:forcast.day}),/*#__PURE__*/_jsx(\"h3\",{children:\"temperature:\"}),/*#__PURE__*/_jsxs(\"div\",{className:Classes.tempContainer,children:[/*#__PURE__*/_jsx(TempDisplay,{headline:\"minimum\",temperature:forcast.min}),/*#__PURE__*/_jsx(\"img\",{src:\"https://developer.accuweather.com/sites/default/files/\".concat(forcast.src,\"-s.png\"),loading:\"lazy\"}),/*#__PURE__*/_jsx(TempDisplay,{headline:\"maximum\",temperature:forcast.max})]})]},index);}),data===undefined&&/*#__PURE__*/_jsx(Loading,{})]});};export default NextWeekWeather;","map":{"version":3,"sources":["D:/abra/src/components/mainPage/nextWeekWeather/nextWeekWeather.js"],"names":["Card","TempDisplay","Classes","useDispatch","useSelector","useEffect","useState","Loading","NextWeekWeather","props","dispach","data","setData","location","state","storedData","futureWheather","key","undefined","fetch","then","res","json","future","options","weekday","year","month","day","DailyForecasts","forEach","icon","Day","Icon","push","Date","toLocaleDateString","min","Temperature","Minimum","Value","max","Maximum","src","type","payload","catch","err","nextWeekWeather","map","forcast","index","nextWeekCard","tempContainer"],"mappings":"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","sourcesContent":["import Card from \"../../UI/Card/card\";\r\nimport TempDisplay from \"./tempDisplay/tempDispaly\";\r\nimport Classes from \"./nextWeekWeather.module.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Loading from \"../../UI/loading/loading\";\r\n\r\nconst NextWeekWeather = (props) => {\r\n  const dispach = useDispatch();\r\n  const [data, setData] = useState([]);\r\n  const location = useSelector((state) => {\r\n    return state.location;\r\n  });\r\n  const storedData = useSelector((state) => {\r\n    return state.futureWheather[location.key];\r\n  });\r\n  useEffect(() => {\r\n    if (storedData !== undefined) {\r\n      setData(storedData);\r\n    } else if (location.key !== undefined) {\r\n      fetch(\r\n        \"https://dataservice.accuweather.com/forecasts/v1/daily/5day/\" +\r\n          location.key +\r\n          \"?apikey=vHiCdzBf9ay1yTDR04546BFGIZDDIq4s&metric=true\"\r\n      )\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((res) => {\r\n          let future = [];\r\n          let options = {\r\n            weekday: \"long\",\r\n            year: \"numeric\",\r\n            month: \"long\",\r\n            day: \"numeric\",\r\n          };\r\n          res.DailyForecasts.forEach((day) => {\r\n            let icon = day.Day.Icon;\r\n            if (icon < 10) {\r\n              icon = \"0\" + icon;\r\n            }\r\n            future.push({\r\n              day: new Date(day.Date).toLocaleDateString(\"en-US\", options),\r\n              min: day.Temperature.Minimum.Value,\r\n              max: day.Temperature.Maximum.Value,\r\n              src: icon,\r\n            });\r\n          });\r\n          setData(future);\r\n          dispach({\r\n            type: \"AddFutureWheather\",\r\n            payload: { key: location.key, data: future },\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          dispach({ type: \"alert\" });\r\n        });\r\n    }\r\n  }, [location]);\r\n  return (\r\n    <div className={Classes.nextWeekWeather}>\r\n      {data.map((forcast, index) => {\r\n        return (\r\n          <Card key={index} class={Classes.nextWeekCard}>\r\n            <h2>{forcast.day}</h2>\r\n            <h3>temperature:</h3>\r\n            <div className={Classes.tempContainer}>\r\n              <TempDisplay headline=\"minimum\" temperature={forcast.min} />\r\n              <img\r\n                src={`https://developer.accuweather.com/sites/default/files/${forcast.src}-s.png`}\r\n                loading=\"lazy\"\r\n              ></img>\r\n              <TempDisplay headline=\"maximum\" temperature={forcast.max} />\r\n            </div>\r\n          </Card>\r\n        );\r\n      })}\r\n      {data === undefined && <Loading />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NextWeekWeather;\r\n"]},"metadata":{},"sourceType":"module"}